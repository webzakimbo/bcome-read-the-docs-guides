.. meta::
   :description lang=en: Configuring Bcome's EC2 driver


*******************
GCP Service Account
*******************

This guide demonstrates a basic GCP driver setup: a single inventory namespace if populated with servers having been authorised via a GCP service account.

Tree Hierarchy
==============

The tree hierarchy below is generated by invoking Bcome's ``tree`` command:

.. code-block:: bash

      ▐▆   Namespace tree wbz
      │
      ├───╸ server bastion
      ├───╸ server puppet
      └───╸ server wbzsite_app_sq6v

networks.yml file
=================

.. code-block:: yaml

   ---
   wbz:
     type: inventory
     description: All my servers in a single namespace

     network:
       type: gcp
       project: wbznet
       zone: europe-west1-b
       authentication_scheme: service_account
       service_account_credentials: service-account.json
       service_scopes:
       - https://www.googleapis.com/auth/compute.readonly
       - https://www.googleapis.com/auth/cloud-platform
       filters: status:running

     ssh_settings:
       proxy:
         - host_lookup: by_bcome_namespace
           namespace: bastion

Ascii Cast
==========

TODO: ascii_casts/drivers-gcp-service-account

